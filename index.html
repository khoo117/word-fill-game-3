<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<title>Word-Fill Game (50 High-Frequency 4-letter Words)</title>
<style>
  body{font-family:Arial,sans-serif;background:#f3f5f9;padding:28px;}
  .game{background:#fff;padding:22px;max-width:980px;border-radius:10px;}
  .item{padding:14px 0;border-bottom:1px solid #eee;}
  .masked{font-size:16px;letter-spacing:2px;margin-bottom:8px;}
  input{
    width:320px;padding:9px;font-size:15px;border:2px solid #cfd6e4;
    border-radius:8px;outline:none;
  }
  input.correct{border-color:#22c55e;background:#ecfff4;}
  input.wrong{border-color:#ef4444;background:#fff1f0;}
  .meaning{color:#555;font-size:14px;margin-top:6px;}
  .example{color:#333;font-size:14px;margin-top:6px;font-style:italic;}
  .hint{margin-top:6px;font-size:13px;color:#6b7280;}
  .hint.ok{color:#16a34a;font-weight:600;}
  button{
    margin-top:14px;margin-right:8px;padding:9px 16px;font-size:14px;border:none;
    border-radius:8px;background:#2563eb;color:#fff;cursor:pointer;
  }
  button.secondary{background:#64748b;}
  .result{margin-top:12px;font-weight:700;}
  .answers{margin-top:12px;background:#eef1f7;padding:12px;border-radius:8px;display:none;}
  .small{font-size:13px;color:#6b7280;margin:6px 0 14px;}
</style>
</head>
<body>
<div class="game">
  <h2>Word-Fill Gameï¼ˆ50 ä¸ªå››å­—æ¯é«˜é¢‘è¯ï¼‰</h2>
  <div class="small">
    ç©æ³•ï¼šçœ‹â€œæŒ–ç©ºå•è¯ + åè¯­è§£é‡Š + ä¾‹å¥â€ï¼Œè¾“å…¥å®Œæ•´å•è¯ã€‚<br>
    å³æ—¶æç¤ºï¼šé¦–å­—æ¯ + é•¿åº¦ + è¾“å…¥è¿›åº¦ï¼›æ£€æŸ¥åï¼šé”™çº¢/å¯¹ç»¿ï¼Œå¹¶æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆï¼›ğŸ”Š å¯å¬å‘éŸ³ã€‚
  </div>

  <div id="items"></div>

  <button onclick="checkAnswers()">Check Answers</button>
  <div id="result" class="result"></div>
  <div id="answersBox" class="answers"></div>
</div>

<script>
const data = [
  { word:"have", meaning:"æœ‰", example:"I have a plan for the weekend." },
  { word:"make", meaning:"åšï¼›åˆ¶é€ ", example:"Please make a choice now." },
  { word:"take", meaning:"æ‹¿ï¼›èŠ±è´¹", example:"It will take ten minutes." },
  { word:"give", meaning:"ç»™", example:"Please give me a chance." },
  { word:"keep", meaning:"ä¿æŒ", example:"Keep your phone in your bag." },
  { word:"find", meaning:"æ‰¾åˆ°", example:"I canâ€™t find my keys." },
  { word:"work", meaning:"å·¥ä½œ", example:"This plan will work well." },
  { word:"play", meaning:"ç©ï¼›æ¼”å¥", example:"They play chess after class." },
  { word:"help", meaning:"å¸®åŠ©", example:"Can you help me today?" },
  { word:"move", meaning:"ç§»åŠ¨", example:"Please move your chair." },

  { word:"time", meaning:"æ—¶é—´", example:"I donâ€™t have time now." },
  { word:"year", meaning:"å¹´", example:"This year feels different." },
  { word:"life", meaning:"ç”Ÿå‘½ï¼›ç”Ÿæ´»", example:"Life is full of choices." },
  { word:"hand", meaning:"æ‰‹ï¼›å¸®åŠ©", example:"Give me a hand, please." },
  { word:"home", meaning:"å®¶", example:"I want to go home." },
  { word:"face", meaning:"è„¸ï¼›é¢å¯¹", example:"He had a sad face." },
  { word:"mind", meaning:"æ€æƒ³ï¼›å¤´è„‘", example:"Keep an open mind." },
  { word:"part", meaning:"éƒ¨åˆ†", example:"This is the best part." },
  { word:"room", meaning:"æˆ¿é—´", example:"My room is very clean." },
  { word:"word", meaning:"å•è¯ï¼›è¯è¯­", example:"Write the word on the board." },

  { word:"good", meaning:"å¥½çš„", example:"That is a good idea." },
  { word:"best", meaning:"æœ€å¥½çš„", example:"This is my best work." },
  { word:"long", meaning:"é•¿çš„", example:"It is a long road." },
  { word:"high", meaning:"é«˜çš„", example:"The price is too high." },
  { word:"easy", meaning:"å®¹æ˜“çš„", example:"This test is easy." },
  { word:"hard", meaning:"å›°éš¾çš„ï¼›åŠªåŠ›çš„", example:"This question is hard." },
  { word:"kind", meaning:"å–„è‰¯çš„ï¼›ç§ç±»", example:"She is very kind." },
  { word:"full", meaning:"æ»¡çš„", example:"The cup is full." },
  { word:"open", meaning:"æ‰“å¼€çš„", example:"The shop is open today." },
  { word:"free", meaning:"è‡ªç”±çš„ï¼›å…è´¹çš„", example:"The app is free to use." },

  { word:"then", meaning:"ç„¶å", example:"Eat first, then rest." },
  { word:"when", meaning:"ä½•æ—¶ï¼›å½“â€¦â€¦æ—¶å€™", example:"Call me when you arrive." },
  { word:"more", meaning:"æ›´å¤š", example:"I need more time." },
  { word:"very", meaning:"éå¸¸", example:"This book is very useful." },
  { word:"just", meaning:"åˆšåˆšï¼›åªæ˜¯", example:"I just got home." },
  { word:"here", meaning:"è¿™é‡Œ", example:"Come here and sit." },
  { word:"back", meaning:"å›æ¥ï¼›åé¢", example:"Please come back soon." },
  { word:"down", meaning:"å‘ä¸‹", example:"Sit down, please." },
  { word:"over", meaning:"åœ¨ä¸Šæ–¹ï¼›ç»“æŸ", example:"The game is over." },
  { word:"than", meaning:"æ¯”", example:"She is taller than me." },

  { word:"this", meaning:"è¿™ä¸ª", example:"This is my bag." },
  { word:"that", meaning:"é‚£ä¸ª", example:"That is your seat." },
  { word:"what", meaning:"ä»€ä¹ˆ", example:"What do you mean?" },
  { word:"with", meaning:"å’Œï¼›ç”¨", example:"I went with my friend." },
  { word:"from", meaning:"ä»", example:"I am from Malaysia." },
  { word:"they", meaning:"ä»–ä»¬", example:"They are in the hall." },
  { word:"them", meaning:"ä»–ä»¬ï¼ˆå®¾æ ¼ï¼‰", example:"I saw them yesterday." },
  { word:"will", meaning:"å°†è¦", example:"I will call you later." },
  { word:"want", meaning:"æƒ³è¦", example:"I want a new book." },
  { word:"know", meaning:"çŸ¥é“", example:"I know the answer." }
];

// æŒ–ç©ºè§„åˆ™ï¼š4å­—æ¯è¯æŒ–ç¬¬2å’Œç¬¬4ä¸ªå­—æ¯ -> æ›´åƒæ¸¸æˆï¼ˆå¤šå­—æ¯æŒ–ç©ºï¼‰
function maskWord(word){
  const chars = word.split("");
  if(chars.length >= 2) chars[1] = "_";
  if(chars.length >= 4) chars[3] = "_";
  return chars.join(" ");
}

const container = document.getElementById("items");

data.forEach((d,i)=>{
  const safeWord = d.word.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
  const maskedExample = d.example.replace(new RegExp("\\b"+safeWord+"\\b","i"), "____");

  container.innerHTML += `
    <div class="item">
      <div class="masked">${i+1}) ${maskWord(d.word)}</div>
      <input id="q${i}" placeholder="Type the full word..." autocomplete="off" />
      <div id="h${i}" class="hint">Hint: starts with "${d.word[0]}", length ${d.word.length}</div>

      <div class="meaning">åè¯­ï¼š${d.meaning}</div>
      <div class="example">Example: ${maskedExample}</div>

      <button class="secondary" onclick="speak('${d.word}')">ğŸ”Š Pronunciation</button>
    </div>
  `;
});

// å‘éŸ³ï¼ˆæµè§ˆå™¨å†…å»º TTSï¼‰
function speak(text){
  const u = new SpeechSynthesisUtterance(text);
  u.lang = "en-US";
  u.rate = 0.9;
  speechSynthesis.speak(u);
}

function normalize(s){ return (s||"").toLowerCase().trim(); }

// å³æ—¶æç¤º
data.forEach((d,i)=>{
  const el = document.getElementById("q"+i);
  const hint = document.getElementById("h"+i);

  el.addEventListener("input", ()=>{
    const v = normalize(el.value);
    el.classList.remove("correct","wrong"); // å®æ—¶ä¸åˆ¤çº¢ç»¿ï¼Œé¿å…å¹²æ‰°

    if(!v){
      hint.textContent = `Hint: starts with "${d.word[0]}", length ${d.word.length}`;
      hint.className = "hint";
      return;
    }
    if(v === d.word){
      hint.textContent = "âœ“ Correct";
      hint.className = "hint ok";
      return;
    }
    if(d.word.startsWith(v)){
      hint.textContent = `Good startâ€¦ (${v.length}/${d.word.length})`;
      hint.className = "hint";
    }else{
      hint.textContent = `Try again. Hint: starts with "${d.word[0]}"`;
      hint.className = "hint";
    }
  });
});

// æ£€æŸ¥ç­”æ¡ˆï¼šé”™è¯¯é«˜äº® + æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆï¼ˆåªåˆ—å‡ºé”™çš„ï¼‰
function checkAnswers(){
  let score = 0;
  let wrongList = [];

  data.forEach((d,i)=>{
    const el = document.getElementById("q"+i);
    const hint = document.getElementById("h"+i);
    const v = normalize(el.value);

    el.classList.remove("correct","wrong");

    if(v === d.word){
      score++;
      el.classList.add("correct");
      hint.textContent = "âœ“ Correct";
      hint.className = "hint ok";
    }else{
      el.classList.add("wrong");
      hint.textContent = `âœ— Correct answer: ${d.word}`;
      hint.className = "hint";
      wrongList.push(`${i+1}. ${d.word} â€” ${d.meaning}`);
    }
  });

  document.getElementById("result").textContent = `Your score: ${score} / ${data.length}`;

  const box = document.getElementById("answersBox");
  box.style.display = "block";
  box.innerHTML = wrongList.length
    ? `<b>Correct Answers (Wrong items only):</b><br>${wrongList.join("<br>")}`
    : "<b>Excellent!</b> All answers are correct ğŸ‰";
}
</script>
</body>
</html>
